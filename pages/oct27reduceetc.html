function each(collection, callback) {
    if(Array.isArray(collection)){
        for (var i = 0; i < collection.length; i++) {
            callback(collection[i]);
        }
    } else {
        for (var key in collection) {
            callback(collection[key]);
        }

    }

}

function map(collection, callback){
    var results = [];
    each(collection, function(currentEl){
        results.push(callback(currentEl));
    });
    return results;
}

function filter(collection, test) {
    var results = [];
    each(collection, function(currentEl){
        if(test(currentEl)){
            results.push(currentEl);
        }
    });
    return results;
}


function reduce(collection, callback, initialVal){
    var accumVal, i = 0;
    if(arguments.length >= 3) {
        accumVal = initialVal;
    } else {
        accumVal = collection[i];
        i++;
    }
    while (i < collection.length){
        accumVal = callback(accumVal, collection[i]);
        i++;
    }
    return accumVal;
}
/////////////////
//reduce
////////////////
function reduce(collection, callback, initialVal){
	each(collection, function(val){
	startValue = callback(startValue, val);
})
return startValue;
}
